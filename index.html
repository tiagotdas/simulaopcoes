<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Estratégias com Opções</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-900 text-white p-4 sm:p-6 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-400">Simulador de Opções</h1>
            <p class="text-gray-400 mt-2">Teste estratégias de Venda Coberta, Venda de Put e Travas de Crédito.</p>
        </header>

        <!-- Abas de Navegação -->
        <div class="mb-6">
            <div class="border-b border-gray-700">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button id="tab-covered-call" class="tab-btn tab-active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">Venda Coberta</button>
                    <button id="tab-cash-secured-put" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500">Venda de Put</button>
                    <button id="tab-bear-call-spread" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500">Trava de Baixa</button>
                    <button id="tab-bull-put-spread" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500">Trava de Alta</button>
                </nav>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Coluna de Inputs -->
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                <!-- Formulário Venda Coberta (Covered Call) -->
                <div id="form-covered-call" class="strategy-form">
                    <h2 class="text-xl font-semibold mb-4 text-blue-300">Venda Coberta de Call</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="cc-ticker" class="block text-sm font-medium text-gray-300 mb-1">Ativo (Ticker)</label>
                            <input type="text" id="cc-ticker" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="PETR4">
                        </div>
                        <div>
                            <label for="cc-stock-price" class="block text-sm font-medium text-gray-300 mb-1">Preço da Ação (R$)</label>
                            <input type="number" id="cc-stock-price" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="35.00" step="0.01">
                        </div>
                        <div>
                            <label for="cc-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike da Call (R$)</label>
                            <input type="number" id="cc-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="36.00" step="0.01">
                        </div>
                        <div>
                            <label for="cc-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Recebido (R$)</label>
                            <input type="number" id="cc-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1.20" step="0.01">
                        </div>
                        <div>
                            <label for="cc-quantity" class="block text-sm font-medium text-gray-300 mb-1">Quantidade (Contratos)</label>
                            <input type="number" id="cc-quantity" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1" min="1">
                        </div>
                    </div>
                </div>

                <!-- Formulário Venda de Put (Cash-Secured Put) -->
                <div id="form-cash-secured-put" class="strategy-form hidden">
                    <h2 class="text-xl font-semibold mb-4 text-blue-300">Venda de Put (Segura em Caixa)</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="csp-ticker" class="block text-sm font-medium text-gray-300 mb-1">Ativo (Ticker)</label>
                            <input type="text" id="csp-ticker" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="VALE3">
                        </div>
                        <div>
                            <label for="csp-stock-price" class="block text-sm font-medium text-gray-300 mb-1">Preço da Ação (R$)</label>
                            <input type="number" id="csp-stock-price" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="65.00" step="0.01">
                        </div>
                        <div>
                            <label for="csp-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike da Put (R$)</label>
                            <input type="number" id="csp-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="63.00" step="0.01">
                        </div>
                        <div>
                            <label for="csp-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Recebido (R$)</label>
                            <input type="number" id="csp-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1.50" step="0.01">
                        </div>
                         <div>
                            <label for="csp-quantity" class="block text-sm font-medium text-gray-300 mb-1">Quantidade (Contratos)</label>
                            <input type="number" id="csp-quantity" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1" min="1">
                        </div>
                    </div>
                </div>

                <!-- Formulário Trava de Baixa (Bear Call Spread) -->
                <div id="form-bear-call-spread" class="strategy-form hidden">
                    <h2 class="text-xl font-semibold mb-4 text-blue-300">Trava de Baixa com Calls</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="bcs-ticker" class="block text-sm font-medium text-gray-300 mb-1">Ativo (Ticker)</label>
                            <input type="text" id="bcs-ticker" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="ITUB4">
                        </div>
                        <div>
                            <label for="bcs-stock-price" class="block text-sm font-medium text-gray-300 mb-1">Preço da Ação (R$)</label>
                            <input type="number" id="bcs-stock-price" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="32.00" step="0.01">
                        </div>
                        <div>
                            <label for="bcs-short-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike Vendido (R$)</label>
                            <input type="number" id="bcs-short-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="33.00" step="0.01">
                        </div>
                        <div>
                            <label for="bcs-short-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Recebido (R$)</label>
                            <input type="number" id="bcs-short-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="0.80" step="0.01">
                        </div>
                        <div>
                            <label for="bcs-long-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike Comprado (R$)</label>
                            <input type="number" id="bcs-long-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="34.00" step="0.01">
                        </div>
                        <div>
                            <label for="bcs-long-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Pago (R$)</label>
                            <input type="number" id="bcs-long-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="0.30" step="0.01">
                        </div>
                        <div class="sm:col-span-2">
                            <label for="bcs-quantity" class="block text-sm font-medium text-gray-300 mb-1">Quantidade (Contratos)</label>
                            <input type="number" id="bcs-quantity" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1" min="1">
                        </div>
                    </div>
                </div>

                <!-- Formulário Trava de Alta (Bull Put Spread) -->
                <div id="form-bull-put-spread" class="strategy-form hidden">
                    <h2 class="text-xl font-semibold mb-4 text-blue-300">Trava de Alta com Puts</h2>
                     <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="bps-ticker" class="block text-sm font-medium text-gray-300 mb-1">Ativo (Ticker)</label>
                            <input type="text" id="bps-ticker" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="BBDC4">
                        </div>
                        <div>
                            <label for="bps-stock-price" class="block text-sm font-medium text-gray-300 mb-1">Preço da Ação (R$)</label>
                            <input type="number" id="bps-stock-price" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="13.00" step="0.01">
                        </div>
                        <div>
                            <label for="bps-short-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike Vendido (R$)</label>
                            <input type="number" id="bps-short-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="12.50" step="0.01">
                        </div>
                        <div>
                            <label for="bps-short-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Recebido (R$)</label>
                            <input type="number" id="bps-short-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="0.50" step="0.01">
                        </div>
                        <div>
                            <label for="bps-long-strike" class="block text-sm font-medium text-gray-300 mb-1">Strike Comprado (R$)</label>
                            <input type="number" id="bps-long-strike" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="12.00" step="0.01">
                        </div>
                        <div>
                            <label for="bps-long-premium" class="block text-sm font-medium text-gray-300 mb-1">Prêmio Pago (R$)</label>
                            <input type="number" id="bps-long-premium" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="0.20" step="0.01">
                        </div>
                        <div class="sm:col-span-2">
                            <label for="bps-quantity" class="block text-sm font-medium text-gray-300 mb-1">Quantidade (Contratos)</label>
                            <input type="number" id="bps-quantity" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" value="1" min="1">
                        </div>
                    </div>
                </div>
                 <button id="log-trade-btn" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                    Registrar Operação no Diário
                </button>
            </div>

            <!-- Coluna de Resultados e Gráfico -->
            <div>
                <div class="bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
                    <h3 class="text-xl font-semibold mb-4 text-blue-300">Simulação de Resultado</h3>
                    <div class="mb-4">
                        <label for="expiration-price" class="block text-sm font-medium text-gray-300 mb-1">Preço da Ação no Vencimento: <span id="expiration-price-label" class="font-bold text-blue-400">R$ 35.00</span></label>
                        <input type="range" id="expiration-price" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer" min="25" max="45" step="0.1" value="35">
                    </div>
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                        <div id="pnl-card" class="bg-gray-800 p-4 rounded-lg text-center cursor-help">
                            <div class="text-sm text-gray-400">Lucro/Prejuízo</div>
                            <div id="pnl" class="text-xl font-semibold text-green-400">R$ 0,00</div>
                        </div>
                        <div id="max-profit-card" class="bg-gray-800 p-4 rounded-lg text-center cursor-help">
                            <div class="text-sm text-gray-400">Lucro Máximo</div>
                            <div id="max-profit" class="text-xl font-semibold text-green-400">R$ 0,00</div>
                        </div>
                        <div id="max-loss-card" class="bg-gray-800 p-4 rounded-lg text-center cursor-help">
                            <div class="text-sm text-gray-400">Prejuízo Máximo</div>
                            <div id="max-loss" class="text-xl font-semibold text-red-400">R$ 0,00</div>
                        </div>
                        <div id="break-even-card" class="bg-gray-800 p-4 rounded-lg text-center cursor-help">
                            <div class="text-sm text-gray-400">Break-Even</div>
                            <div id="break-even" class="text-xl font-semibold text-yellow-400">R$ 0,00</div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-800 p-4 rounded-lg shadow-lg">
                    <canvas id="payoff-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- Diário de Operações -->
        <div class="mt-10 bg-gray-800 p-6 rounded-lg shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-semibold text-blue-300">Diário de Operações (Paper Trading)</h2>
                <button id="clear-log-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-3 rounded-lg text-sm transition duration-300">Limpar Diário</button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-300">
                    <thead class="text-xs text-gray-400 uppercase bg-gray-700">
                        <tr>
                            <th scope="col" class="px-4 py-3">Estratégia</th>
                            <th scope="col" class="px-4 py-3">Ativo</th>
                            <th scope="col" class="px-4 py-3">Parâmetros</th>
                            <th scope="col" class="px-4 py-3">Crédito Total</th>
                            <th scope="col" class="px-4 py-3">Resultado Simulado</th>
                        </tr>
                    </thead>
                    <tbody id="trade-log-body">
                       <!-- Linhas serão adicionadas via JS -->
                    </tbody>
                    <tfoot>
                        <tr class="font-semibold text-white">
                            <th scope="row" colspan="4" class="px-4 py-3 text-base text-right">Resultado Total:</th>
                            <td id="total-pnl" class="px-4 py-3 text-base">R$ 0,00</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

    </div>

    <script src="js/main.js" defer></script>
</body>
</html>